<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoboTech Control Suite - Advanced Robotics Platform</title>
    
    <!-- External Dependencies -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Platform Styles -->
    <link rel="stylesheet" href="css/intro.css">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/components.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="brand">
                <i class="fas fa-robot"></i>
                <span>RoboTech Control Suite</span>
                <span style="font-size: 0.8rem; color: #94a3b8; font-weight: 400;">v3.0</span>
            </div>
            <div class="status">
                <div class="status-dot"></div>
                <span>System Online</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <!-- Hero Section -->
        <section class="hero-section">
            <h1 class="hero-title">Advanced Robotics Platform</h1>
            <p class="hero-subtitle">Comprehensive control, monitoring, and analysis suite for autonomous robot systems</p>
        </section>

        <!-- Navigation Grid -->
        <div class="nav-grid">
            <!-- Robot Control -->
            <a href="pages/control.html" class="nav-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="card-title">Robot Control</h3>
                </div>
                <p class="card-description">Real-time robot control interface with 3D visualization, telemetry monitoring, and direct command execution.</p>
                <div class="card-features">
                    <span class="feature-tag">3D Visualization</span>
                    <span class="feature-tag">Real-time Control</span>
                    <span class="feature-tag">Telemetry</span>
                </div>
            </a>

            <!-- Algorithm Comparison -->
            <a href="pages/comparison.html" class="nav-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="card-title">Algorithm Comparison</h3>
                </div>
                <p class="card-description">Compare different pathfinding and control algorithms with performance metrics and visual analysis.</p>
                <div class="card-features">
                    <span class="feature-tag">A* Algorithm</span>
                    <span class="feature-tag">Dijkstra</span>
                    <span class="feature-tag">Performance Metrics</span>
                </div>
            </a>

            <!-- Obstacle Avoidance -->
            <a href="pages/obstacles.html" class="nav-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 class="card-title">Obstacle Avoidance</h3>
                </div>
                <p class="card-description">Advanced obstacle detection and avoidance system with sensor fusion and predictive pathfinding.</p>
                <div class="card-features">
                    <span class="feature-tag">LIDAR Integration</span>
                    <span class="feature-tag">Sensor Fusion</span>
                    <span class="feature-tag">Dynamic Mapping</span>
                </div>
            </a>

            <!-- Analytics Dashboard -->
            <a href="pages/analytics.html" class="nav-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <h3 class="card-title">Analytics Dashboard</h3>
                </div>
                <p class="card-description">Comprehensive data analysis, performance reporting, and system optimization insights.</p>
                <div class="card-features">
                    <span class="feature-tag">Performance Charts</span>
                    <span class="feature-tag">Excel Reports</span>
                    <span class="feature-tag">Trend Analysis</span>
                </div>
            </a>

            <!-- Configuration Management -->
            <a href="pages/config.html" class="nav-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3 class="card-title">Configuration Management</h3>
                </div>
                <p class="card-description">System settings, robot parameters, and configuration preset management with backup/restore capabilities.</p>
                <div class="card-features">
                    <span class="feature-tag">Preset Management</span>
                    <span class="feature-tag">Backup/Restore</span>
                    <span class="feature-tag">Parameter Tuning</span>
                </div>
            </a>
        </div>

        <!-- Quick Actions -->
        <section class="quick-actions">
            <h3>Quick Actions</h3>
            <div class="action-buttons">
                <a href="#" class="action-btn" onclick="showSystemStatus()">
                    <i class="fas fa-info-circle"></i>
                    System Status
                </a>
                <a href="#" class="action-btn" onclick="showDocumentation()">
                    <i class="fas fa-book"></i>
                    Documentation
                </a>
                <a href="#" class="action-btn" onclick="showSettings()">
                    <i class="fas fa-sliders-h"></i>
                    Settings
                </a>
            </div>
        </section>
    </div>

    <!-- Scripts -->
    <script src="js/platform-core.js"></script>
    <script src="js/navigation.js"></script>
    
    <script>
        // Enhanced Navigation System
        class RoboTechNavigator {
            constructor() {
                this.pages = {
                    'control': { url: 'pages/control.html', title: 'Robot Control', icon: 'fas fa-gamepad' },
                    'comparison': { url: 'pages/comparison.html', title: 'Algorithm Comparison', icon: 'fas fa-chart-line' },
                    'obstacles': { url: 'pages/obstacles.html', title: 'Obstacle Avoidance', icon: 'fas fa-shield-alt' },
                    'analytics': { url: 'pages/analytics.html', title: 'Analytics Dashboard', icon: 'fas fa-chart-pie' },
                    'config': { url: 'pages/config.html', title: 'Configuration Management', icon: 'fas fa-cogs' }
                };
                this.init();
            }

            init() {
                this.setupNavigation();
                this.setupKeyboardShortcuts();
                this.checkPageAvailability();
            }

            setupNavigation() {
                // Add click listeners to all navigation cards
                document.querySelectorAll('.nav-card').forEach(card => {
                    card.addEventListener('click', (e) => this.handleNavigation(e));
                });

                // Add keyboard navigation
                document.querySelectorAll('.nav-card').forEach((card, index) => {
                    card.setAttribute('tabindex', '0');
                    card.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            this.handleNavigation(e);
                        }
                    });
                });
            }

            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Ctrl/Cmd + Number keys for quick navigation
                    if ((e.ctrlKey || e.metaKey) && e.key >= '1' && e.key <= '5') {
                        e.preventDefault();
                        const pageKeys = Object.keys(this.pages);
                        const pageKey = pageKeys[parseInt(e.key) - 1];
                        if (pageKey) {
                            this.navigateToPage(pageKey);
                        }
                    }
                });
            }

            async checkPageAvailability() {
                // Check if pages exist and mark unavailable ones
                for (const [key, page] of Object.entries(this.pages)) {
                    try {
                        const response = await fetch(page.url, { method: 'HEAD' });
                        if (!response.ok) {
                            this.markPageUnavailable(key);
                        }
                    } catch (error) {
                        this.markPageUnavailable(key);
                    }
                }
            }

            markPageUnavailable(pageKey) {
                const card = document.querySelector(`[href="${this.pages[pageKey].url}"]`);
                if (card) {
                    card.classList.add('page-unavailable');
                    card.style.opacity = '0.6';
                    card.style.pointerEvents = 'none';
                    
                    // Add unavailable indicator
                    const indicator = document.createElement('div');
                    indicator.className = 'unavailable-indicator';
                    indicator.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Page Not Available';
                    card.appendChild(indicator);
                }
            }

            navigateToPage(pageKey) {
                const page = this.pages[pageKey];
                if (page) {
                    window.location.href = page.url;
                }
            }

            handleNavigation(event) {
                event.preventDefault();
                const card = event.currentTarget;
                const url = card.getAttribute('href');
                
                if (!url || card.classList.contains('page-unavailable')) {
                    return false;
                }

                this.showLoadingState(card);
                
                // Navigate after short delay to show loading state
                setTimeout(() => {
                    try {
                        window.location.href = url;
                    } catch (error) {
                        this.showError(card, `Failed to navigate to ${url}`);
                    }
                }, 500);

                return false;
            }

            showLoadingState(card) {
                const originalContent = card.innerHTML;
                card.setAttribute('data-original-content', originalContent);
                
                card.innerHTML = `
                    <div style="text-align: center; padding: 2rem;">
                        <div class="loading"></div>
                        <p style="margin-top: 1rem; color: #94a3b8;">Loading...</p>
                    </div>
                `;
            }

            showError(card, message) {
                const originalContent = card.getAttribute('data-original-content');
                card.innerHTML = originalContent;
                alert(`Navigation Error: ${message}\n\nPlease make sure the page exists in the correct directory.`);
            }
        }

        // Quick action functions with enhanced features
        function showSystemStatus() {
            const status = {
                'Robot Control System': Math.random() > 0.1 ? 'Online' : 'Offline',
                '3D Visualization Engine': Math.random() > 0.05 ? 'Ready' : 'Loading',
                'Algorithm Modules': Math.random() > 0.02 ? 'Loaded' : 'Error',
                'Sensor Systems': Math.random() > 0.08 ? 'Connected' : 'Disconnected',
                'Communication Bridge': Math.random() > 0.03 ? 'Active' : 'Inactive'
            };

            let statusText = 'System Status:\n\n';
            for (const [system, state] of Object.entries(status)) {
                const icon = state.includes('Online') || state.includes('Ready') || state.includes('Loaded') || state.includes('Connected') || state.includes('Active') ? '✅' : '❌';
                statusText += `${icon} ${system}: ${state}\n`;
            }

            const allOnline = Object.values(status).every(state => 
                state.includes('Online') || state.includes('Ready') || state.includes('Loaded') || state.includes('Connected') || state.includes('Active')
            );

            statusText += allOnline ? '\nAll systems operational.' : '\nSome systems require attention.';
            alert(statusText);
        }

        function showDocumentation() {
            const docs = [
                '📖 User Manual: /assets/documentation/user-manual.pdf',
                '🔧 API Reference: /assets/documentation/api/',
                '⚙️ Configuration Guide: /assets/documentation/config/',
                '🚀 Quick Start: /assets/documentation/quickstart.md',
                '🐛 Troubleshooting: /assets/documentation/troubleshooting/',
                '📊 Performance Guide: /assets/documentation/performance.md'
            ];

            alert('📚 Documentation:\n\nFor detailed documentation, please refer to:\n\n' + docs.join('\n'));
        }

        function showSettings() {
            const settings = [
                '🎨 Theme Settings',
                '🔗 Connection Configuration', 
                '📊 Data Export Options',
                '🔔 Notification Preferences',
                '🚀 Performance Optimization',
                '🔒 Security Settings'
            ];

            alert('⚙️ Settings:\n\nGlobal platform settings:\n\n' + settings.join('\n') + '\n\nClick on "Configuration Management" to access detailed system settings.');
        }

        // Enhanced system status simulation
        function updateSystemStatus() {
            const statusText = document.querySelector('.status span');
            const statusDot = document.querySelector('.status-dot');
            
            if (Math.random() < 0.1) {
                const statuses = [
                    { text: 'System Online', color: '#22c55e' },
                    { text: 'Processing...', color: '#f59e0b' },
                    { text: 'Connecting...', color: '#3b82f6' },
                    { text: 'Optimizing...', color: '#8b5cf6' }
                ];
                
                const status = statuses[Math.floor(Math.random() * statuses.length)];
                statusText.textContent = status.text;
                statusDot.style.background = status.color;
                
                setTimeout(() => {
                    statusText.textContent = 'System Online';
                    statusDot.style.background = '#22c55e';
                }, 3000);
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize navigation system
            window.robotechNavigator = new RoboTechNavigator();
            
            // Update status every 15 seconds
            setInterval(updateSystemStatus, 15000);
            
            // Add navigation hints
            console.log(`
            🚀 RoboTech Control Suite v3.0 Navigation
            ==========================================
            
            🖱️  Mouse Navigation:
            • Click any card to navigate to that page
            
            ⌨️  Keyboard Shortcuts:
            • Ctrl/Cmd + 1: Robot Control
            • Ctrl/Cmd + 2: Algorithm Comparison  
            • Ctrl/Cmd + 3: Obstacle Avoidance
            • Ctrl/Cmd + 4: Analytics Dashboard
            • Ctrl/Cmd + 5: Configuration Management
            • Tab: Navigate between cards
            • Enter/Space: Activate focused card
            
            📁 File Structure:
            • pages/control.html     - Robot Control Interface
            • pages/comparison.html  - Algorithm Comparison
            • pages/obstacles.html   - Obstacle Avoidance  
            • pages/analytics.html   - Analytics Dashboard
            • pages/config.html      - Configuration Management
            
            🎨 Styling:
            • css/main.css          - Main platform styles
            • css/navigation.css    - Navigation components
            • css/components.css    - Reusable components
            
            For support, check the documentation in /assets/documentation/
            `);
        });

        // Add some helpful development functions
        window.robotech = {
            navigate: (page) => window.robotechNavigator?.navigateToPage(page),
            status: showSystemStatus,
            docs: showDocumentation,
            settings: showSettings,
            version: '3.0'
        };
    </script>
</body>
</html>